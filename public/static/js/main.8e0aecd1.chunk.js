(this["webpackJsonpmy_crud_project_ah-ui"]=this["webpackJsonpmy_crud_project_ah-ui"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(7),o=n.n(r),c=(n(13),n(1)),l=n(2),s=n(4),u=n(3),p=n(5),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={il:"",plak:"",visited:""},e.handleChange=function(t){var n=t.target,a=n.name;e.setState(Object(p.a)({},a,n.value),(function(){return console.log(e.state[a])}))},e.handleSubmit=function(t){t.preventDefault();var n="true"===e.state.visited;fetch("http://localhost:5500/api/tc_provinces/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify([{il:e.state.il,plak:e.state.plak,visited:n}])}).then(e.props.refresh).then((function(){return e.setState({il:"",plak:0,visited:""})}))},e}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{name:"il",type:"text",value:this.state.il,placeholder:"Name of Province",onChange:this.handleChange}),i.a.createElement("input",{name:"plak",type:"number",value:this.state.plak,placeholder:"Plaka No.",onChange:this.handleChange}),i.a.createElement("select",{name:"visited",value:this.state.visited,onChange:this.handleChange},i.a.createElement("option",{value:!0},"Visited"),i.a.createElement("option",{value:!1},"Not Visited")),i.a.createElement("input",{type:"submit",value:"Add a Province"}))}}]),n}(i.a.Component),h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={il:e.props.province.il,plak:e.props.province.plak,visited:e.props.province.visited},e.handleChange=function(t){var n=t.target,a=n.name;e.setState(Object(p.a)({},a,n.value),(function(){return console.log(e.state[a])}))},e.handleSubmit=function(t){t.preventDefault();var n="true"===e.state.visited;fetch("".concat("","/api/tc_provinces/").concat(e.props.province._id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({il:e.state.il,plak:e.state.plak,visited:n})}).then(e.props.refresh).then((function(){return e.setState({il:"",plak:0,visited:""})}))},e}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{name:"il",type:"text",value:this.state.il,placeholder:"Name of Province",onChange:this.handleChange}),i.a.createElement("input",{name:"plak",type:"number",value:this.state.plak,placeholder:"Plaka No.",onChange:this.handleChange}),i.a.createElement("select",{name:"visited",value:this.state.visited,onChange:this.handleChange},i.a.createElement("option",{value:!0},"Visited"),i.a.createElement("option",{value:!1},"Not Visited")),i.a.createElement("input",{type:"submit",value:"Edit or Update a Province"}),i.a.createElement("input",{type:"button",value:"Cancel",onClick:this.props.refresh}))}}]),n}(i.a.Component),d=function(e){var t=e.province,n=e.deleteProvince,a=e.updateProvince;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:function(){return n(t._id)}},"Delete"),i.a.createElement("button",{onClick:function(){return a(t)}},"Edit"))},m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getProvince=function(){fetch("".concat("","/api/tc_provinces/")).then((function(e){return e.json()})).then((function(e){return a.setState({province:e,isCreate:!0})}))},a.deleteProvince=function(e){fetch("".concat("","/api/tc_provinces/").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then(console.log).then(a.getProvince)},a.updateProvince=function(e){a.setState({updateProvince:e,isCreate:!1})},a.renderForm=function(){var e;if(a.state.isCreate)e=i.a.createElement(v,{key:"createForm",refresh:a.getProvince});else{var t=a.state.updateProvince;e=i.a.createElement(h,{key:t._id,province:t,refresh:a.getProvince})}return e},a.state={province:[],isCreate:!0,updateProvince:{}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getProvince()}},{key:"render",value:function(){var e=this,t=this.state.province.map((function(t){return i.a.createElement("div",null,t.il,", ",t.plak,", ",t.visited?"visited":"not yet visited",i.a.createElement(d,{province:t,deleteProvince:e.deleteProvince,updateProvince:e.updateProvince}))}));return console.log(this.state.province),i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Provinces"),this.renderForm(),t)}}]),n}(a.Component);n(14);var f=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.8e0aecd1.chunk.js.map